#!/bin/bash

# Brightside CLI - Command Line Interface

BRIGHTSIDE_VERSION="1.0.0"
BRIGHTSIDE_COMMANDS=(
    "ytmp3 <url>      - ğŸµ Download YouTube as MP3"
    "ytmp4 <url>      - ğŸ¥ Download YouTube as MP4"
    "whisper-sub <file> - ğŸ™ï¸ Generate subtitles using Whisper AI"
    "todo <task>      - âœ… Manage your To-Do List"
    "news <category>  - ğŸ“° Fetch latest news from RSS feeds"
    "grab <url>       - ğŸ“¥ Download any file from the internet"
    "setup            - âš™ï¸  Re-run setup script"
    "--help           - ğŸ“– Show this help menu"
    "--version        - ğŸ”¹ Show Brightside CLI version"
)

# ğŸš€ Display Help Menu
show_help() {
    echo "ğŸ›ï¸ Brightside CLI - Available Commands:"
    for cmd in "${BRIGHTSIDE_COMMANDS[@]}"; do
        echo "  brightside $cmd"
    done
    exit 0
}

# ğŸ”¹ Display Version
if [[ "$1" == "--version" ]]; then
    echo "ğŸ”¹ Brightside CLI v$BRIGHTSIDE_VERSION"
    exit 0
fi

# ğŸ“– Display Help if No Args or '--help'
if [[ $# -eq 0 || "$1" == "--help" ]]; then
    show_help
fi

# âš™ï¸  Execute Commands
case "$1" in
    ytmp3) shift; python3 "$BRIGHTSIDE_ROOT/bin/ytmp3.py" "$@" ;;
    ytmp4) shift; python3 "$BRIGHTSIDE_ROOT/bin/ytmp4.py" "$@" ;;
    whisper-sub) shift; python3 "$BRIGHTSIDE_ROOT/bin/whisper-sub.py" "$@" ;;
    todo) shift; bash "$BRIGHTSIDE_ROOT/bin/todo" "$@" ;;
    news) shift; python3 "$BRIGHTSIDE_ROOT/bin/news.py" "$@" ;;
    grab) shift; bash "$BRIGHTSIDE_ROOT/bin/grab" "$@" ;;
    setup) shift; bash "$BRIGHTSIDE_ROOT/bin/setup.sh" "$@" ;;
    *)
        echo "âŒ Unknown command: $1"
        echo "Type 'brightside --help' for a list of commands."
        exit 1
        ;;
esac
